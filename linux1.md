# 运维基本导论与Linux系统部署

#  一、Linux云计算运维基本导论

### 1.1、运维基本概述

*运维 = 运行 + 维护**

- **运行**：保证服务器、系统、网络、应用程序都能正常跑起来。
- **维护**：出现问题能快速修，平时要做`监控`、备份、安全、更新等工作。

> 运维是指通过专业技术手段，确保企业的**IT系统**和**网络**持续、安全、稳定运行，保障业务的连续性。运维涵盖计算机网络、应用系统、硬件环境和服务流程的综合管理。

**实际工作中，运维主要在做什么呢？**

1. 系统监控与维护: 使用监控工具（如 Zabbix、Nagios、Prometheus）对服务器、网络设备等进行实时监控，确保系统的稳定运行。
2. 故障排查与处理: 当出现硬件故障、网络故障、系统崩溃等问题时，快速响应，进行故障排查和恢复。
3. 自动化运维: 使用 Ansible、SaltStack 等工具编写自动化脚本，简化日常的运维工作，提升效率(Shell、Python)
4. 系统部署与更新: 根据业务需求，进行操作系统、数据库、应用服务等软件的安装、配置和升级
5. 备份与恢复: 确保定期对关键数据进行备份，设置自动化备份方案
6. 安全管理: 及时关注系统和应用的安全漏洞，安装补丁和修复漏洞。

![image-20250615223925097](E:\hmlinux\day01\笔记\assets\image-20250615223925097.png)

## 1.2、云计算基本概述

## 1.2、云计算基本概述

云计算是一种通过网络提供**可扩展**、**虚拟化**的计算资源和服务，用户按需获取并付费使用的新型计算模式。

> 云计算就是“把服务器搬到网上”，通过浏览器或 API 来管理它们。我们不再自己买服务器，而是向云厂商“租用资源”。

![image-20250615223948582](E:\hmlinux\day01\笔记\assets\image-20250615223948582.png)

从企业角度, 只需要按需购买资源即可, 无需自己建立机房,优势: 节省成本、安全更有保障、临时扩容方便

**云计算三种服务形式：**

- **公有云**

  公有云是由云服务商（如阿里云、腾讯云、亚马逊(AWS)、华为云）建设并对外提供的云服务，**多个客户共用同一套基础设施**，使用者按需付费。

  ### 🧩 特点：

  - 资源共享（但逻辑隔离）
  - 弹性高，可随时扩展
  - 成本低，按量计费
  - 免维护，云厂商负责运维

  ### 📦 典型服务：

  - 弹性计算（ECS、EC2）
  - 云数据库（RDS、MongoDB）
  - 对象存储（OSS、S3）
  - 内容分发（CDN）
  - 容器服务（Kubernetes）

  ### 🎯 适用场景：

  - 初创公司、互联网应用
  - 网站、电商、App 快速上线
  - 需要弹性扩容的业务

- **私有云**

  私有云是专门为某个企业或组织构建的云计算平台，部署在企业内部数据中心或第三方托管环境，**资源只由该组织使用，不共享**。

  ### 🧩 特点：

  - 高安全性与数据可控性
  - 可深度定制
  - 初期成本高（硬件+人力）
  - 企业自己负责部分或全部运维

  ### ⚙️ 搭建方式：

  - 基于 OpenStack、CloudStack、VMware等开源/商业方案自建
  - 采购阿里云、华为云的“专有云产品”部署在本地

  ### 🎯 适用场景：

  - 政府、军工、金融、医疗
  - 对数据隐私和合规性要求高
  - 已有数据中心资源，希望“云化改造”

- **混合云**

  混合云结合了**公有云**和**私有云**的优点，实现两者之间的**数据互通、业务协同**。核心是根据不同业务灵活部署在合适的平台上。

  ### 🧩 特点：

  - 灵活性强：敏感业务放私有云，弹性业务放公有云
  - 成本可控：按需使用公有云资源，节约投入
  - 增强业务连续性：当本地资源不足时，可自动接入公有云

  ### 🛠 实现方式：

  - 建立专线连接（如 VPN、专线通道）
  - 使用统一的管理平台调度私有云+公有云资源
  - 容器/K8s 支持跨云部署

  ### 🎯 适用场景：

  - 金融、电信、大型企业 IT 架构转型
  - 有合规性要求但也希望享受云弹性
  - 处理业务高峰临时扩容（如双11、电商等类似高流量活动）

**公有云 vs 私有云 vs 混合云 对比表**

| 方面               | 公有云           | 私有云         | 混合云       |
| ------------------ | ---------------- | -------------- | ------------ |
| **资源归属**       | 云厂商所有，共享 | 企业专属       | 两者结合     |
| **部署位置**       | 云厂商数据中心   | 企业内部或托管 | 混合部署     |
| **成本模式**       | 按需计费         | 一次性投入大   | 成本灵活可控 |
| **数据控制权**     | 较弱             | 完全可控       | 可分级控制   |
| **扩展性**         | 高               | 受物理资源限制 | 高           |
| **维护工作**       | 云厂商负责       | 企业自管       | 双方协同     |
| **安全性与合规性** | 较好（但共享）   | 高             | 可控         |

## 1.3、运维中涉及的基础名词

## 1.2、云计算基本概述

云计算是一种通过网络提供**可扩展**、**虚拟化**的计算资源和服务，用户按需获取并付费使用的新型计算模式。

> 云计算就是“把服务器搬到网上”，通过浏览器或 API 来管理它们。我们不再自己买服务器，而是向云厂商“租用资源”。

![image-20250615223948582](E:\hmlinux\day01\笔记\assets\image-20250615223948582.png)

从企业角度, 只需要按需购买资源即可, 无需自己建立机房,优势: 节省成本、安全更有保障、临时扩容方便

**云计算三种服务形式：**

- **公有云**

  公有云是由云服务商（如阿里云、腾讯云、亚马逊(AWS)、华为云）建设并对外提供的云服务，**多个客户共用同一套基础设施**，使用者按需付费。

  ### 🧩 特点：

  - 资源共享（但逻辑隔离）
  - 弹性高，可随时扩展
  - 成本低，按量计费
  - 免维护，云厂商负责运维

  ### 📦 典型服务：

  - 弹性计算（ECS、EC2）
  - 云数据库（RDS、MongoDB）
  - 对象存储（OSS、S3）
  - 内容分发（CDN）
  - 容器服务（Kubernetes）

  ### 🎯 适用场景：

  - 初创公司、互联网应用
  - 网站、电商、App 快速上线
  - 需要弹性扩容的业务

- **私有云**

  私有云是专门为某个企业或组织构建的云计算平台，部署在企业内部数据中心或第三方托管环境，**资源只由该组织使用，不共享**。

  ### 🧩 特点：

  - 高安全性与数据可控性
  - 可深度定制
  - 初期成本高（硬件+人力）
  - 企业自己负责部分或全部运维

  ### ⚙️ 搭建方式：

  - 基于 OpenStack、CloudStack、VMware等开源/商业方案自建
  - 采购阿里云、华为云的“专有云产品”部署在本地

  ### 🎯 适用场景：

  - 政府、军工、金融、医疗
  - 对数据隐私和合规性要求高
  - 已有数据中心资源，希望“云化改造”

- **混合云**

  混合云结合了**公有云**和**私有云**的优点，实现两者之间的**数据互通、业务协同**。核心是根据不同业务灵活部署在合适的平台上。

  ### 🧩 特点：

  - 灵活性强：敏感业务放私有云，弹性业务放公有云
  - 成本可控：按需使用公有云资源，节约投入
  - 增强业务连续性：当本地资源不足时，可自动接入公有云

  ### 🛠 实现方式：

  - 建立专线连接（如 VPN、专线通道）
  - 使用统一的管理平台调度私有云+公有云资源
  - 容器/K8s 支持跨云部署

  ### 🎯 适用场景：

  - 金融、电信、大型企业 IT 架构转型
  - 有合规性要求但也希望享受云弹性
  - 处理业务高峰临时扩容（如双11、电商等类似高流量活动）

**公有云 vs 私有云 vs 混合云 对比表**

| 方面               | 公有云           | 私有云         | 混合云       |
| ------------------ | ---------------- | -------------- | ------------ |
| **资源归属**       | 云厂商所有，共享 | 企业专属       | 两者结合     |
| **部署位置**       | 云厂商数据中心   | 企业内部或托管 | 混合部署     |
| **成本模式**       | 按需计费         | 一次性投入大   | 成本灵活可控 |
| **数据控制权**     | 较弱             | 完全可控       | 可分级控制   |
| **扩展性**         | 高               | 受物理资源限制 | 高           |
| **维护工作**       | 云厂商负责       | 企业自管       | 双方协同     |
| **安全性与合规性** | 较好（但共享）   | 高             | 可控         |

## 1.3、运维中涉及的基础名词

### 1.3.1、服务器型号

从**硬件物理形态**角度来看，服务器通常可以分为以下 四大类： **塔式服务器、机架式服务器、刀片服务器、柜式服务器**。

![image-20250615224009887](E:\hmlinux\day01\笔记\assets\image-20250615224009887.png)

#### 1.3.1.1、塔式服务器

##### 结构特点：

- 外形类似普通台式机，独立单体结构；
- 通风散热依赖内置风扇；
- 一台就是一台，不能插入机柜。

##### 应用场景：

- 小型企业办公室、实验室、开发测试环境；
- 对性能、空间和扩展性要求不高的场合。

##### 优点：

- 成本较低；
- 易于部署和维护；
- 噪音小、功耗低。

##### 缺点：

- 扩展性差，体积较大；
- 不能集中管理；
- 不适合规模部署。

#### 1.3.1.2、机架式服务器

##### 结构特点：

- 统一标准尺寸（如 1U、2U、4U）；

  - 1U = 1.75 英寸 ≈ 4.445 厘米

    | 型号   | 高度（厘米） | 特点                           | 常见用途                     |
    | ------ | ------------ | ------------------------------ | ---------------------------- |
    | **1U** | ≈ 4.45 cm    | 非常薄、节省空间、便于密集部署 | Web 服务、轻负载应用、云节点 |
    | **2U** | ≈ 8.89 cm    | 扩展性更好，可放更多硬盘、内存 | 数据库、中型应用服务         |
    | **4U** | ≈ 17.78 cm   | 高度大、性能强、空间足         | GPU 服务器、AI、大数据处理   |

- 可安装在 19 英寸标准机架中；

- 通常为“扁平型”设计，节省空间。

##### 应用场景：

- 数据中心、IDC 机房；
- 需要多台服务器部署的中大型企业。

##### 优点：

- 密度高，节省空间；
- 集中供电、集中散热，易于管理；
- 可模块化部署、维护方便。

##### 缺点：

- 散热要求高；
- 噪音大；
- 需要配套机柜、空调、UPS 等设备，整体成本较高。

#### 1.3.1.3、刀片服务器

##### 结构特点：

- 多个刀片（独立服务器模块）插入一个统一的刀片机箱；
- 共享电源、散热、网络模块等资源；
- 每片服务器为一块主板+CPU+内存+存储。

##### 应用场景：

- 金融、电信、云计算企业的数据中心；
- 对运算密度和可维护性要求高的业务。

##### 优点：

- 更高密度部署（同机柜可容纳更多服务器）；
- 节省电源、散热资源，能耗更低；
- 集中管理，热插拔维护方便。

##### 缺点：

- 初期投资高；
- 技术门槛高；
- 高发热量，需要优秀的机房空调系统。

------

#### 1.3.1.4、柜式服务器

##### 结构特点：

- 一整柜作为一个计算单元，包含多台集成服务器；
- 多为云计算/超大规模部署使用；
- 柜内预装电源、网络、冷却、管理模块。

##### 应用场景：

- 超大型数据中心（如阿里、腾讯、华为云）；
- 承载大规模分布式系统、高性能计算平台（HPC）。

##### 优点：

- 统一部署、集中供电、集中管理；
- 最佳空间利用率；
- 自动化程度高，适合标准化部署。

##### 缺点：

- 成本极高；
- 依赖配套数据中心设施；
- 不适合中小企业部署。

---

**小结一下：**

- 💻 塔式：像台式机，小巧便宜，适合**入门/轻办公**；
- 🧱 机架式：像“服务器砖块”，适合**中型企业部署**；
- 🗂️ 刀片式：插槽式密集部署，适合**大型企业/数据中心**；
- 🏢 柜式：一柜成军，一体集成，适合**超大规模云计算**场景。

### 1.3.2、主机(ip地址)

IP地址（Internet Protocol Address），就是“网络上的地址”，就像你家门牌号一样，用来标识你设备在网络中的位置。

每一台连接到网络的设备（电脑、手机、服务器、打印机等）都有一个 IP 地址，才能在网络中通信。

```shell
windows系统中查看当前本机的ip地址
打开 运行 => win键 + R => 输入 cmd 回车
```

<img src="E:\hmlinux\day01\笔记\assets\image-20250616102330338.png" alt="image-20250616102330338" style="zoom:50%;" />



![image-20250616102421707](E:\hmlinux\day01\笔记\assets\image-20250616102421707.png)

![image-20250616102450922](E:\hmlinux\day01\笔记\assets\image-20250616102450922.png)

常见的IP形式有二个：**IPV4、IPV6**

- IPv4（主流，使用广泛）
  - IPv4 是最常见的 IP 格式，由 **4 组数字** 组成，例如：`192.168.1.1`
    - `127.0.0.1` 回环地址，本机地址，它不需要插网线也是有的，用于自测
  - 每组范围是 0~255（因为每组是 8 位，即 1 字节）
  - 总共 32 位地址 => 可容纳约 42 亿个地址（已经接近枯竭）
- IPv6（新一代，解决地址不够问题）
  - IPv6 是 128 位地址，外形长很多：`2001:0db8:85a3:0000:0000:8a2e:0370:7334`
  - 理论可提供 **3.4×10³⁸ 个地址**
  - 比 IPv4 更安全、速度更快，但部署仍在过渡阶段

```properties
IPV4：
    格式: x.x.x.x  x的取值范围（1/0-255之间） 
    IP可以分为公网/外网ip和私网/内网ip
    
    公网/外网IP:   IP 是全球唯一的，可以在任何地方直接访问到该地址
    私网/内网ip:   局域网内使用的地址，不能直接通过互联网访问,目的是为了内部网络的设备进行通信
    
IPV6：
    由8个16位的十六进制数组成，每组数字之间用冒号分隔。【0-f】=>[0-15] => [0-9a-f]
    如：2001:0db8:85a3:0000:0000:8a2e:0370:7334
2
目前市场上，主要还是IPV4为主，IPV6为辅助. 
需要注意的是，IP需要确保在对应网络范围内唯一

如果你现在有ip地址，但是不能访问到别的机器上的IP,可能原因不在一个网段上
192.168.1.1-255  => 子网掩码(255)
192.168.1.2
192.168.10.3
10.2.3.1
如果保证在一个网段中，子网掩码
```

### 1.3.3、域名

​		域名是互联网上的标识符，用于唯一地定位一个网站；域名的作用主要是便于用户记忆和访问网站，同时也有助于品牌的宣传和推广

真实的网络中还是通过ip地址去找服务器。

域名只能起到了让用户便于记忆，这样去更好的去找服务器。

现在的问题是 域名 怎么找到 ip =》 怎么去匹配的

本机自己去匹配

- windows

  - 系统盘`C:\Windows\System32\drivers\etc\hosts`文件中手动指定ip和域名关系

    ```
    52.69.186.44 github.com
    ip地址  域名
    ```

- mac

  - `/etc/hosts`文件中手动指定ip和域名关系

    ```
    52.69.186.44 github.com
    ip地址  域名
    ```

域名商提供``DNS`服务

你刚才在本机手动绑定的ip和域名关系，它给绑定了，你访问域名时，它会先到dns服务器去找对应关系，找到返回ip地址，去根据ip请求，找不到返回无法访问。

> 例如： `baidu.com` 这个就是域名，很容易被用户所熟记，这样在日常生活工作中可以方便去访问服务。 

## 1.4、服务器重要结构组成

组成部分： 主板、CPU、内存条、显卡、硬盘、电源、风扇、网卡、显示器【可选】、键盘鼠标【可选】等等。

![image-20250615224034267](E:\hmlinux\day01\笔记\assets\image-20250615224034267.png)

## 1.5、企业运行模式

### 1.5.1、IT三大角色

**产品、研发、运维**

流程走向：产品设计 → 项目研发 → 项目测试 → 项目上线 → 系统运维

![image-20250615224050844](E:\hmlinux\day01\笔记\assets\image-20250615224050844.png)

研发 = 前端（HTML+CSS+JavaScript） + 后端（Java/Python/Nodejs/Php）

运维：产品上线、后期的运行与维护工作都属于运维工程师范畴

### 1.5.2、上线与生产

在企业中， 成熟的系统环境主要包括有以下四项：

- **开发环境**：开发人员进行代码编写、调试和初步测试的环境,通常与其他环境隔离 
  - 一般是由开发团队人员部署, 运维只需要提供服务器即可 (内网环境, 对外无法访问)
- **测试环境**：用于执行各种软件测试，包括单元测试、集成测试和系统测试等; 通常模拟生产环境，确保软件在正式发布之前能够正常运行。测试环境需要与开发环境相对独立，以保证测试结果的准确性。
  - 运维或者开发团队都有可能进行部署, 内网环境, 对外无法访问,
- **准生产环境**：准生产环境是生产环境的镜像，但没有实际的业务负载。在准生产环境中，团队会进行预发布的测试，检查是否存在潜在问题，并确保所有功能在与生产环境相似的条件下正常工作。这个环境可以看作是一个 “最终检查” 站。
  - 部分的企业可能不存在, 只要一些特殊的情况可能才有, 和生产环境是保持统一的
  - 一般是由运维人员完成部署
- **生产环境**：生产环境是用户和客户直接交互的环境，所有真实的业务操作和数据处理都发生在此。生产环境通常要求非常高的稳定性、性能和安全性，任何在此环境中的错误都会影响到终端用户，因此需要经过严格的测试与验证。

> **对于运维人员, 生产环境是运维人员工作的核心, 它直接关系到企业的业务和客户的体验, 稳定性、可用性和安全性是运维的首个任务**

**上线：** 发布项目的过程，包含准生产上线，生产上线等。内测/公测 → 开服

**生产：** 正式提供对外服务的环境，叫生产环境，需要运维重点关注

在项目的从无到有的过程中，可以将其分为两个阶段：研发/测试阶段、生产运行阶段。

运维工作贯穿了开发，测试，生产的各个阶段，是其中重要的一环。

### 1.5.3、企业网站运行原理

简单地说，网站是一种沟通工具，人们可以通过网站来发布自己想要公开的资讯，或者利用网站来提供相关的网络服务。人们可以通过网页浏览器来访问网站，获取自己需要的资讯或者享受网络服务。

网站开发 = 前端开发 + 后端开发

![image-20250615224110244](E:\hmlinux\day01\笔记\assets\image-20250615224110244.png)

> 注: DNS 作用：将域名转换成IP 地址
>
> 跟踪域名ip
>
> nslookup 域名
>
> **小结：**ip地址是一个服务器必须要有的要素，域名不一定

## 1.6、工单系统介绍

工单系统（Ticketing System）是运维工程师和 IT 支持团队在日常工作中广泛使用的工具，主要用于管理和跟踪工作任务、请求、问题和故障的解决过程。简单来说，它是一种用于记录、分配和处理工作请求、问题报告、变更申请等事项的系统。

工单系统常见类型：

- **内部支持型工单系统**：公司内部员工向 IT 运维团队提交的技术支持请求，如软件安装、设备修复等。
- **外部支持型工单系统**：客户或外部用户向 IT 服务提供商（如云服务商、软件供应商等）提交的支持请求，如使用产品时遇到问题或功能需求。
- **监控自动工单系统**：与监控工具集成的自动工单系统，系统监控到故障或异常时，自动生成工单并分配给相关工程师处理。

![image-20250615224127956](E:\hmlinux\day01\笔记\assets\image-20250615224127956.png)

# 二、网络基础

## 2.1、认识常见的网络设备

**集线器(HUB)**

![image-20250615224145526](E:\hmlinux\day01\笔记\assets\image-20250615224145526.png)

- **共享带宽**的设备，采用**广播**的形式来传输信息，可以实现多台电脑同时使用一个进线接口来上网或组成局域网 
- HUB不管有多少端口，所有端口都**共享一条带宽**，同一时刻只能有两个端口传送数据，其它端口只能等待，传输效率低；如果是8口的HUB，那么每个端口得到的带宽就只有1/8的总带宽；
- 集线器工作原理图：

![img](E:\hmlinux\day01\笔记\assets\hub1.gif)

**交换机**

![image-20250615224242034](E:\hmlinux\day01\笔记\assets\image-20250615224242034.png)

- 交换机的每一个端口所连接的网络都是独立的，也就是**独享带宽**；
- 并且能够进行**地址学习**（源端和目标端的MAC地址），维护一张MAC地址表
- **隔离冲突域**。因为每个端口都有一条独占的带宽，当两个端口工作时不影响其它端口的工作。

![image-20250615224258849](E:\hmlinux\day01\笔记\assets\image-20250615224258849.png)

- 交换机的工作原理

![img](E:\hmlinux\day01\笔记\assets\switch.gif)

**路由器:**

![image-20250615224354071](E:\hmlinux\day01\笔记\assets\image-20250615224354071.png)

一个作用是**连接不同的网络**，另一个作用是**选择信息传送的线路**（选路）。

选择通畅快捷的近路，能大大提高通信速度，减轻网络系统通信负荷，节约网络系统资源，提高网络系统畅通率。

![image-20250615224406020](E:\hmlinux\day01\笔记\assets\image-20250615224406020.png)

> 1. 单从组建局域网来说，交换机的速度最快，其次是路由器，最后是HUB。而价格是路由器最贵，然后是交换机和HUB.
> 2. 集线器和交换机的作用可以简单的理解为将一些机器连接起来组成一个局域网；但是两者在性能上有区别：集线器采用的式**共享带宽**的工作方式，而交换机是**独享带宽**。这样在机器很多或数据量很大时，两者将会有比较明显的区别;
> 3. 路由器的作用在于**连接不同的网络**并且找到**网络中数据传输最合适的路径**。

## 2.2、常见的网络连接介质

双绞线:

- 双绞线俗称网线，每条双绞线通过两端安装的RJ-45连接器（俗称水晶头）将各种网络设备连接起来。多用于主机到集线器或交换机的连接。
- 双绞线中两种标准：
  - T568A标准：绿白-1，绿-2，橙白-3，蓝-4，蓝白-5，橙-6，棕白-7，棕-8
  - T568B标准：橙白-1，橙-2，绿白-3，蓝-4，蓝白-5，绿-6，棕白-7，棕-8
- 直通线：双绞线两边是一样标准，如568B-568B（常用）
- 交叉线：双绞线两边标准不一样，如568A-568B

![image-20250615224432518](E:\hmlinux\day01\笔记\assets\image-20250615224432518.png)

- 网络设备连接
  - **直通线**：交换机到路由器、计算机到交换机、计算机到集线器等**不同设备**互联
  - **交叉线**：交换机到交换机、集线器到集线器、路由器到路由器、计算机到计算机等**相同设备**互联

> 早期局域网建设中，如果没有交换机，使用交叉线可直接连接两台计算机进行通信。
>
> 现代设备（尤其是支持 Auto MDI/MDI-X 功能的交换机或网卡）通常不需要交叉线，直通线也可以实现同类设备之间的连接。

光纤:

与其它传输介质比较，光纤的电磁绝缘性能好、信号衰小、频带宽、传输速度快、传输距离大。主要用于要求传输距离较长、布线条件特殊的主干网连接。具有不受外界电磁场的影响，无限制的带宽等特点，可以实现每秒万兆位的数据传送，尺寸小、重量轻，数据可传送几百千米，价格昂贵。 

![image-20250615224449165](E:\hmlinux\day01\笔记\assets\image-20250615224449165.png)

## 2.3、网络通信 "三要素"

- **IP（Internet Protocol）** IP 地址用于唯一标识网络中的每一台设备。它充当设备的“地址”，使得数据能够在网络中准确地找到目标设备。
- **端口（Port）** 端口用于区分同一台设备上不同的应用程序或服务。在计算机网络中，一个 IP 地址可以对应多个服务，每个服务通过不同的端口进行通信。端口号是通信中识别应用程序的方式。
  -  端口的范围：

  -  **0-1023**：这些端口称为 **知名端口**，通常被系统或服务使用（例如，HTTP 使用端口 80，HTTPS 使用端口 443，FTP使用端口 21）。
  -  **1024-49151**：这些端口称为 **注册端口**，通常用于用户和应用程序之间的通信（如数据库服务等）。
  -  **49152-65535**：这些端口是 **动态或私有端口**，用于临时连接或客户端通信。
- **协议（Protocol）** 协议定义了数据在网络中传输时的规则和格式。常见的协议有 **TCP/IP**、**UDP**、**HTTP**、**FTP** 等，它们规定了数据如何被分割、传输、接收和重组。

# 三、操作系统介绍

## 3.1、什么是操作系统

> **操作系统**是控制和管理计算机硬件与软件资源的核心程序，是用户和计算机之间的“翻译官”和“调度员”。

📌 通俗比喻：

- 电脑是“硬件工厂”，操作系统是“厂长”
- 应用程序是“员工”，操作系统负责协调它们使用电、网、内存、CPU 等资源

‌**操作系统的构成**‌：

- ‌**内核**‌：操作系统的核心部分，负责管理硬件和软件资源。
- ‌**shell**‌：用户与操作系统交互的界面。
- ‌**扩展软件**‌：在操作系统基础上开发的各类应用软件。

<img src="E:\hmlinux\day01\笔记\assets\image-20250615225123954.png" alt="image-20250615225123954" style="zoom:30%;" />

<img src="E:\hmlinux\day01\笔记\assets\image-20250615225331094.png" alt="image-20250615225331094" style="zoom:50%;" />

‌**操作系统的重要性**‌：
操作系统是计算机系统中必不可少的基础系统软件，为应用程序的运行和用户操作提供了必备的基础环境支撑，是计算机系统的核心。

‌**操作系统的作用**‌：

- ‌**管理硬件资源**‌：如CPU、内存、磁盘等，确保它们高效、有序地工作。
- ‌**管理软件资源**‌：负责各类应用软件的安装、运行环境设置等。
- ‌**控制输入输出**‌：管理设备的输入、输出操作。
- ‌**网络管理与文件系统**‌：操作网络，管理文件系统的存储和访问。

**操作系统分类**‌

- ‌**单用户/多用户**‌：单用户操作系统只允许一个用户使用全部硬件和软件资源；多用户操作系统允许多个用户同时使用计算机。
- ‌**单任务/多任务**‌：单任务操作系统一次只能运行一个应用程序；多任务操作系统可以同时运行多个应用程序。

## 3.2、常见的操作系统有哪些

常见的操作系统：Windows、MacOS、Linux、Android、鸿蒙，其中`Linux

## 3.2、常见的操作系统有哪些

常见的操作系统：Windows、MacOS、Linux、Android、鸿蒙，其中`Linux是目前全球使用最多的服务器操作系统`。

![image-20250615224621768](E:\hmlinux\day01\笔记\assets\image-20250615224621768.png)

## 3.3、为什么运维/云计算要学习操作系统

- 服务器`大多使用 Linux`（比如阿里云、腾讯云的 ECS 实例）

- 运维要掌握网络配置、用户权限、进程调优、日志分析等

- 系统排障/性能优化离不开对 OS 原理的理解

- 自动化运维（如 Shell 脚本）需要操作系统支持

## 3.4、为什么选择Linux

简短一句话回答：**因为 Linux 免费、稳定、安全、开源、灵活，而且在服务器和云计算领域几乎是“标配”。**

| 优势                 | 说明                                 | 举例                                   |
| -------------------- | ------------------------------------ | -------------------------------------- |
| **免费开源**         | 所有代码公开，可自由使用、修改和发布 | 不用买许可证，企业可定制专属系统       |
| **稳定安全**         | 长时间运行不崩溃、权限机制严谨       | 很多服务器运行几年都无需重启           |
| **性能优秀**         | 内核精简、资源占用低，支持大并发     | 适合高性能网站、数据库                 |
| **跨平台支持强**     | 支持 X86、ARM 等各种平台             | 服务器、嵌入式、云计算、物联网         |
| **高度可定制**       | 可选择不同发行版、轻量化组件         | 嵌入式设备可裁剪系统                   |
| **强大的命令行操作** | 命令行功能丰富，易于自动化管理       | Shell 脚本、Ansible、CI/CD             |
| **云计算第一系统**   | 公有云主机几乎都跑 Linux             | 阿里云、AWS、腾讯云默认都是 Linux 系统 |
| **开发者友好**       | 支持主流开发环境，包管理方便         | Python、Java、C 都在 Linux 上开发部署  |

## 3.5、Linux发展历史

### 3.5.1、Linux 的诞生背景

- 20 世纪 70~80 年代，Unix 操作系统诞生，广泛用于高校和科研，但**商业化严重、授权昂贵**。

- 1991 年前后，免费或类 Unix 系统很少，开发者们想要一个**开源、自由**的替代方案。

### 3.5.2、Linux 的诞生

- **创始人：Linus Torvalds**，芬兰赫尔辛基大学的学生。
- 最初只是他个人编写的一个类 Unix 内核，作为 MINIX 的替代实验项目。
- **1991 年 8 月 25 日**，他在 Usenet 上发帖宣布自己的操作系统内核项目，并请求社区测试与建议。同年发布了第一个版本：**Linux 0.01**

<img src="E:\hmlinux\day01\笔记\assets\image-20250615224653041.png" alt="image-20250615224653041" style="zoom:30%;" />

由于Linux的开源特性，各个厂商基于Linux内核，进行了大量的改造、升级，衍生出非常多的发行版本

![image-20250615224729606](E:\hmlinux\day01\笔记\assets\image-20250615224729606.png)

![1](https://i-blog.csdnimg.cn/blog_migrate/53962fc4dd0e6f25d15194f6727f4302.jpeg)

> 常用的发行版本：Centos、Ubuntu、RedHat、欧拉(openeuler)、`麒麟`

## 3.6、Linux系统概述

- ‌**开发背景**‌：由全球成千上万的程序员共同设计和开发，旨在创建不受商业化软件版权制约、全世界自由使用的类UNIX操作系统。
- ‌**应用领域**‌：主要应用于服务器端（重中之重）、嵌入式开发、个人PC桌面三大领域。
- ‌**企业应用**‌：华为、字节、腾讯、淘宝、百度、新浪等大型互联网企业均使用Linux作为其服务器端的程序运行平台，全球及国内排名前十的网站主流系统几乎都是Linux。
- ‌**系统特点**‌：
  - ‌**开放源代码**‌：可自由修改。
  - ‌**UNIX兼容**‌：具备几乎所有UNIX的优秀特性。
  - ‌**自由传播**‌：无任何商业化版权制约。
  - ‌**适配性强**‌：适合Intel等x86 CPU系列架构的计算机。

> **学习Linux技巧**‌：养成好的总结习惯，对阶段性知识进行小结，是学好Linux运维的重要方法。

# 四、虚拟机

## 4.1、什么是虚拟机

虚拟机通过**虚拟化技术**将物理机的硬件资源（CPU、内存、存储、网络等）抽象为可动态分配的逻辑资源池。虚拟机监控器负责管理这些资源，并为每个虚拟机提供独立的运行环境，实现硬件无关性

- **隔离性**：虚拟机之间、虚拟机与宿主机之间完全隔离，避免因单个系统崩溃影响整体稳定性
- **硬件模拟**：虚拟机通过软件模拟完整的硬件设备（如虚拟CPU、虚拟网卡），支持不同操作系统的安装和运行

## 4.2、使用虚拟机的好处

### 4.2.1、操作灵活性

虚拟化的最大优势在于从同一个控制台操作多个显示器或者系统。例如 Linux 和 Windows。允许用户在操作系统之间切换。VM 模拟同时使用多台计算机的体验，对于具有多系统需求的复杂服务器有着很好的支持。此外，这些系统彼此完全独立，这为所有的操作增加了一层安全性。

### 4.2.2、节省成本

服务器虚拟化的最直接好处也许就是无需购买那么多物理服务器就可以节省成本。在大多数数据中心中，有些服务器以其最大容量运转，而其他服务器却很少使用或用于需求不高的应用程序。

借助虚拟化，对硬件要求较低的操作系统和应用程序可以在同一台服务器上运行，从而节省了服务器硬件成本。其最终结果是，由于可以更高效地使用服务器，因此减少使用所需的物理服务器。

### 4.2.3、灾难恢复

VMware 有灾难恢复的高效解决方案。由于虚拟机会定期制作其操作历史的副本（可以根据需要追溯和重新访问这些副本），因此在发生硬件故障时数据丢失的风险很小。此外，由于虚拟环境中的硬件开销可以忽略不计，因此服务器一开始就具有较低的系统故障风险。

## 4.3、一些知名的虚拟机软件

- **VMware Workstation**：适用于开发人员和IT专业人士，提供强大的功能和高性能，支持多种操作系统。
- **VirtualBox**：开源虚拟机软件，适合个人用户和开发者，支持跨平台使用，由Oracle公司维护。
- Hyper-V：微软提供的虚拟化技术，内置在Windows Server和部分Windows 10/11版本中，适合企业级应用。
- EMU：高度可移植的开源虚拟机监控器，支持多种架构的模拟，适合开发和测试。
- Parallels Desktop：主要针对Mac用户，提供在Mac上运行Windows和其他操作系统的解决方案。
- Microsoft Virtual PC：较旧的虚拟机软件，由微软提供，适合早期Windows系统的虚拟化需求。

![image-20250615224825595](E:\hmlinux\day01\笔记\assets\image-20250615224825595.png)

## 4.4、安装VMware

### 4.4.1、检查宿主机

检查电脑是否启用虚拟化，有些电脑出厂的时候，默认是关闭的状态，则需要在 `BIOS` 中手动打开。

#### 4.4.1.1、检查是否开启

查看方式：`打开任务管理器->选择性能->点击CPU`。步骤如下：

打开任务管理器-快捷键：`Ctrl+Shift+Esc`

![image-20250521095158701](E:\hmlinux\day01\笔记\assets\image-20250521095158701.png)

#### 4.4.1.2、BIOS开启虚拟化

此步骤非必须，有些电脑可能本身就不支持。新电脑一般默认就是开启状态。

![image-20250521094802780](E:\hmlinux\day01\笔记\assets\image-20250521094802780.png)

进入BIOS的方法，通常是在开机的时候按相关按键进入，而每个电脑厂家开机按键有所不同。

进入后，通过光标键切换到对应的菜单选项下

![image-20250521094900396](E:\hmlinux\day01\笔记\assets\image-20250521094900396.png)

选择对应选项，回车进入开启

![image-20250521095009697](E:\hmlinux\day01\笔记\assets\image-20250521095009697.png)

选择完毕后，按`F10`保存退出，重启电脑即开启完毕。

### 4.4.2、准备安装包

进入VMware官网，下载适应本机系统的软件包，建议下面较新的。

`下载地址：https://www.vmware.com/products/desktop-hypervisor/workstation-and-fusion`

VMware是一款功能强大的虚拟机软件，现以对个人免费使用。

![image-20250521095533376](E:\hmlinux\day01\笔记\assets\image-20250521095533376.png)

### 4.4.3、开始安装

下载完毕后，选择对应安装包双击进入安装程序向导界面，进行安装操作。

![image-20250521095942912](E:\hmlinux\day01\笔记\assets\image-20250521095942912.png)

**1.安装向导页**

![1](E:\hmlinux\day01\笔记\assets\1.png)

**2.同意许可协议，单击下一步**

![2](E:\hmlinux\day01\笔记\assets\2.png)

**3.设置Vmware软件安装路劲，建议设置在除C盘以外的盘符下，如D盘、E盘等等**

![3](E:\hmlinux\day01\笔记\assets\3.png)

**4.用户体验设置，如下图所示，单击下一步继续安装**

![4](E:\hmlinux\day01\笔记\assets\4.png)

**5.快捷方式设置，单击下一步继续安装**

![5](E:\hmlinux\day01\笔记\assets\5.png)

**6.准备完成点击安装**

![6](E:\hmlinux\day01\笔记\assets\6.png)

**安装等待中**

![image-20250521100551256](E:\hmlinux\day01\笔记\assets\image-20250521100551256.png)

**7.安装结束后，单击许可证，如果已购买的许可证序列号，完成安装。**

![7](E:\hmlinux\day01\笔记\assets\7.png)

![9](E:\hmlinux\day01\笔记\assets\9.png)

**8.点击完成**

![10](E:\hmlinux\day01\笔记\assets\10.png)

**9.重启电脑**

![11](E:\hmlinux\day01\笔记\assets\11.png)

**10.检查网络连接**

在安装完之后需要检查网络连接，检查虚拟机软件在安装完成后，是否自动生成2张虚拟网卡

![12](E:\hmlinux\day01\笔记\assets\12.png)

**11、安装完成，启动软件**

![13](E:\hmlinux\day01\笔记\assets\13.png)

# 五、Linux操作系统安装

## 5.1、Centos安装

官方下载地址：https://www.centos.org/download

国内镜像站地址：https://mirrors.aliyun.com/centos

选择的是CentOS Stream 9是CentOS系列的一个滚动更新版本，也是红帽企业Linux（RHEL）的上游开发平台。它之前确实属于CentOS系列，但与传统CentOS版本相比，CentOS Stream更侧重于提供最新技术的实验环境，具有滚动更新的特性。

> 注：目前最新的stream版本为10版本，现在企业中主流的centos多为7或8

选择Centos Stream 版本的原因：

1. 快速的软件更新: CentOS Stream 是滚动更新（rolling release）版本，意味着它比传统的 CentOS 版本更新速度更快，能提前体验到 RHEL（Red Hat Enterprise Linux）下一个版本的更新和新特性。

2. 更接近 RHEL: CentOS Stream 是 RHEL 的开发“预览”版本，可以更早地接触到 RHEL 的新特性和改进，帮助开发者和运维人员为生产环境做好准备。

3. 更长的支持周期: 虽然 CentOS Stream 的更新频率更高，但它与 RHEL 仍有紧密关联，因此可以享受类似 RHEL 的长期支持和稳定性。

4. 活跃的社区支持: CentOS Stream 作为 Red Hat 生态的一部分，得到更多的社区贡献和支持，遇到问题时更容易找到解决方案。

**1.打开VMware虚拟机并点击创建新的虚拟机**

![image-20250615211534303](E:\hmlinux\day01\笔记\assets\image-20250615211534303.png)

![image-20250615211627130](E:\hmlinux\day01\笔记\assets\image-20250615211627130.png)

**2.选择虚拟机硬件兼容性**

![image-20250615211748705](E:\hmlinux\day01\笔记\assets\image-20250615211748705.png)

**3.安装来源设置，选择稍后安装操作系统**`一定不要选错了`

![image-20250615211846824](E:\hmlinux\day01\笔记\assets\image-20250615211846824.png)

**4.客户机操作系统选择**

软件没有centos8以上的版本可以选择，这里直接选择centos 8 版本就可以

![image-20250615212014193](E:\hmlinux\day01\笔记\assets\image-20250615212014193.png)

**5.命名虚拟机**

![image-20250615212146266](E:\hmlinux\day01\笔记\assets\image-20250615212146266.png)

**6.处理器设置**

这里根据个人电脑的实际情况来选择，如果个人电脑配置不是太高，可以都选择1，后期也是可以修改的。

![image-20250615212315596](E:\hmlinux\day01\笔记\assets\image-20250615212315596.png)

**7.内存设置**

这里根据个人电脑的实际情况来选择，如果个人电脑配置不是太高，可以都选择1G，后期也是可以修改的。

![image-20250615212414453](E:\hmlinux\day01\笔记\assets\image-20250615212414453.png)

**8.网络类型选择**

| 类型          | 中文名称         | 虚拟机能否上网 | 是否能访问主机 | 是否能访问局域网     | 场景推荐         |
| ------------- | ---------------- | -------------- | -------------- | -------------------- | ---------------- |
| **Bridged**   | 桥接模式         | ✅ 是           | ✅ 是           | ✅ 是                 | 局域网真实参与者 |
| **NAT**       | 网络地址转换模式 | ✅ 是           | ✅ 是           | ❌ 否（虚拟机在私网） | 常用、安全性高   |
| **Host-only** | 仅主机模式       | ❌ 否           | ✅ 是           | ❌ 否                 | 测试、内网搭建   |

![image-20250615212504908](E:\hmlinux\day01\笔记\assets\image-20250615212504908.png)

**9.设置I/O控制器类型**

默认就可以

![image-20250615212823695](E:\hmlinux\day01\笔记\assets\image-20250615212823695.png)

![image-20250615212852927](E:\hmlinux\day01\笔记\assets\image-20250615212852927.png)

![image-20250615212918618](E:\hmlinux\day01\笔记\assets\image-20250615212918618.png)

**10.指定磁盘容量**

![image-20250615213101460](E:\hmlinux\day01\笔记\assets\image-20250615213101460.png)

**11.指定磁盘文件**

![image-20250615213552140](E:\hmlinux\day01\笔记\assets\image-20250615213552140.png)

**12.设置完成后，单击完成即可实现CentOS Stream 9虚拟机环境创建**

![image-20250615213746910](E:\hmlinux\day01\笔记\assets\image-20250615213746910.png)

![image-20250615213817666](E:\hmlinux\day01\笔记\assets\image-20250615213817666.png)

**13.选择cd/dvd镜像**

![image-20250615213949561](E:\hmlinux\day01\笔记\assets\image-20250615213949561.png)

**14.点击运行，开始安装**

开启此虚拟机进入CentOS Stream 9安装状态，然后通过`↑↓`方向键移动光标

CentOS Stream 9安装状态选择` Install CentOS Stream 9 `，进入安装状态

![image-20250615214104671](E:\hmlinux\day01\笔记\assets\image-20250615214104671.png)

选择安装时使用的语言，中文/English 都可以，随个人选择

![image-20250615214202458](E:\hmlinux\day01\笔记\assets\image-20250615214202458.png)

单击继续，进入安装设置汇总页面，如下图所示：

![image-20250615214224924](E:\hmlinux\day01\笔记\assets\image-20250615214224924.png)

选择`系统`中的`安装目标位置`，设置分区：

![image-20250615214312605](E:\hmlinux\day01\笔记\assets\image-20250615214312605.png)

**LVM（逻辑卷管理） vs  标准分区（标准分区）**

**什么是标准分区？**

- 传统的分区方式，例如：
  - `/dev/sda1`、`/dev/sda2`、`/dev/sdb1`……
- 创建时就固定了大小，不能动态调整。
- 管理简单，适合小型或临时性系统部署。

> 举例：你买了一个 1TB 的硬盘，把它分成两个固定大小的分区，一个 500GB 装系统，一个 500GB 存数据。以后要调整大小，得备份、删除、重建，非常麻烦。

------

**什么是 LVM（逻辑卷管理）？**

- 是一种**逻辑卷管理机制**，对硬盘进行灵活的分区与管理。
- 通过物理卷（PV）、卷组（VG）、逻辑卷（LV）进行抽象。
- 逻辑卷（LV）可随时扩展或缩小大小，不影响数据。
- 支持**在线扩容**、快照备份、动态添加硬盘等。

> 举例：你先用 500GB 做一个 `/home` 逻辑卷，后来觉得不够，再加块硬盘或者从剩余空间扩展 200GB，不用重装系统也不用重新分区。

**适用场景**

| 场景                     | 推荐使用     |
| ------------------------ | ------------ |
| 家用系统、虚拟机测试     | 标准分区即可 |
| 生产服务器、数据库服务器 | LVM，更灵活  |
| 云计算平台、虚拟化环境   | 必须 LVM     |
| 需要动态调整分区大小     | LVM 更合适   |
| 系统简单、空间固定       | 标准分区足够 |

**文件系统：XFS 与 EXT4**

| 项目                 | EXT4                                     | XFS                                        |
| -------------------- | ---------------------------------------- | ------------------------------------------ |
| **发行时间**         | 2008 年                                  | 1994 年（最早由 SGI 推出，后移植到 Linux） |
| **默认支持系统**     | 大多数 Linux 发行版默认支持（如 Ubuntu） | RHEL、CentOS、Rocky 默认推荐               |
| **最大单文件大小**   | 16TB                                     | 8EB（Exabytes）                            |
| **最大文件系统容量** | 1EB                                      | 8EB                                        |
| **日志支持**         | 支持 journaling                          | 支持 journaling（更强）                    |
| **性能特性**         | 综合性能良好                             | 高并发、大文件写入性能强                   |
| **扩容能力**         | 支持在线扩展（需挂载）**不支持在线缩小** | 支持在线扩展**不支持在线缩小**             |
| **文件碎片整理**     | 不需要（自动处理）                       | **需要时可用 `xfs_fsr` 命令优化**          |
| **工具兼容性**       | 广泛支持各种管理工具                     | 需要专用命令（如 `xfs_growfs`）            |
| **快照支持**         | 配合 LVM 实现                            | 配合 LVM 实现（自带 quota 管理）           |
| **应用场景**         | 通用系统、桌面、开发环境                 | 数据库、大数据、日志系统、文件服务器       |

**小结：**

**EXT4：**

- 类似于“多才多艺”的通用型选手，适合所有普通用途。
- 稳定可靠，家用、开发机、虚拟机都适合。

**XFS：**

- 专注“高性能、高吞吐”场景，是服务器环境的主力文件系统。
- 写入大量小日志、数据库、高并发读取等，表现非常好。

**以100G磁盘为例，进行分区划分**

| 分区    | 用途                                                         | 是否必须 | 大小                          |
| ------- | ------------------------------------------------------------ | -------- | ----------------------------- |
| `/boot` | 引导分区，存放内核等                                         | ✅ 是     | 1G到2G之间                    |
| `swap`  | 虚拟内存空间（内存不够用时使用）                             | ✅ 建议有 | 内存的1-2倍之间，不要超过8G   |
| `/`     | 根分区，系统主文件存储区<br />根分区下的`/etc `目录很重要它是存储系统配置文件所在的目录 | ✅ 是     | 磁盘总大小的10%到30%之间 30GB |
| `/home` | 用户目录，用户数据分区                                       | 可选     | 磁盘总大小的10%               |
| `/var`  | 系统日志、服务数据（如 Web/数据库）                          | 可选     | 磁盘总大小的10%到30%之间 30GB |
| `/data` | 数据区（如数据库、文件）                                     | 可选     | 把剩余大小全给它              |

![image-20250615222455267](E:\hmlinux\day01\笔记\assets\image-20250615222455267.png)

软件选择设置：选择 Minimal Install，勾选附件软件 Development Tools

![image-20250615222540247](E:\hmlinux\day01\笔记\assets\image-20250615222540247.png)

设置root密码，如果密码过于简单会让你点击两次完成确认

![image-20250615222606130](E:\hmlinux\day01\笔记\assets\image-20250615222606130.png)

设置键盘布局和语言支持，均调整为英语美国

![image-20250615222647332](E:\hmlinux\day01\笔记\assets\image-20250615222647332.png)

设置完成后，点击开始安装操作

![image-20250615222710469](E:\hmlinux\day01\笔记\assets\image-20250615222710469.png)

进入CentOS Stream 9安装状态

![image-20250615222729184](E:\hmlinux\day01\笔记\assets\image-20250615222729184.png)

安装完成后，提示重启系统，点击重启就可以进入到Linux系统中。